const consul = require('consul')
const { HOST, CONSUL_TOKEN } = require('../config')

const initConsul = (config = {}) => consul({
  host: config.host || HOST,
  port: config.port || 443,
  secure: true,
  defaults: {
    token: config.token || CONSUL_TOKEN
  }
})

module.exports = {
  initConsul
}
